(()=>{const M={};function K(){if(location.hash)return location.hash.replace("#","")}function Y(a){a=a?`#${a}`:window.location.href.split("#")[0],history.pushState("","",a)}let F=(a,e=500,t=0)=>{a.classList.contains("_slide")||(a.classList.add("_slide"),a.style.transitionProperty="height, margin, padding",a.style.transitionDuration=e+"ms",a.style.height=`${a.offsetHeight}px`,a.offsetHeight,a.style.overflow="hidden",a.style.height=t?`${t}px`:"0px",a.style.paddingTop=0,a.style.paddingBottom=0,a.style.marginTop=0,a.style.marginBottom=0,window.setTimeout(()=>{a.hidden=!t,t||a.style.removeProperty("height"),a.style.removeProperty("padding-top"),a.style.removeProperty("padding-bottom"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),t||a.style.removeProperty("overflow"),a.style.removeProperty("transition-duration"),a.style.removeProperty("transition-property"),a.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:a}}))},e))},j=(a,e=500,t=0)=>{if(!a.classList.contains("_slide")){a.classList.add("_slide"),a.hidden=a.hidden?!1:null,t&&a.style.removeProperty("height");let s=a.offsetHeight;a.style.overflow="hidden",a.style.height=t?`${t}px`:"0px",a.style.paddingTop=0,a.style.paddingBottom=0,a.style.marginTop=0,a.style.marginBottom=0,a.offsetHeight,a.style.transitionProperty="height, margin, padding",a.style.transitionDuration=e+"ms",a.style.height=s+"px",a.style.removeProperty("padding-top"),a.style.removeProperty("padding-bottom"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),window.setTimeout(()=>{a.style.removeProperty("height"),a.style.removeProperty("overflow"),a.style.removeProperty("transition-duration"),a.style.removeProperty("transition-property"),a.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:a}}))},e)}},Q=(a,e=500)=>a.hidden?j(a,e):F(a,e),q=!0,J=(a=500)=>{if(q){const e=document.querySelectorAll("[data-lp]");setTimeout(()=>{e.forEach(t=>{t.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.classList.remove("lock")},a),q=!1,setTimeout(function(){q=!0},a)}},Z=(a=500)=>{if(q){const e=document.querySelectorAll("[data-lp]"),t=window.innerWidth-document.body.offsetWidth+"px";e.forEach(s=>{s.style.paddingRight=t}),document.body.style.paddingRight=t,document.documentElement.classList.add("lock"),q=!1,setTimeout(function(){q=!0},a)}};function R(){const a=document.querySelectorAll("[data-tabs]");let e=[];if(a.length>0){const n=K();n&&n.startsWith("tab-")&&(e=n.replace("tab-","").split("-")),a.forEach((o,d)=>{o.classList.add("_tab-init"),o.setAttribute("data-tabs-index",d),o.addEventListener("click",i),s(o)});let r=ee(a,"tabs");r&&r.length&&r.forEach(o=>{o.matchMedia.addEventListener("change",function(){t(o.itemsArray,o.matchMedia)}),t(o.itemsArray,o.matchMedia)})}function t(n,r){n.forEach(o=>{o=o.item;let d=o.querySelector("[data-tabs-titles]"),c=o.querySelectorAll("[data-tabs-title]"),u=o.querySelector("[data-tabs-body]"),p=o.querySelectorAll("[data-tabs-item]");c=Array.from(c).filter(f=>f.closest("[data-tabs]")===o),p=Array.from(p).filter(f=>f.closest("[data-tabs]")===o),p.forEach((f,E)=>{r.matches?(u.append(c[E]),u.append(f),o.classList.add("_tab-spoller")):(d.append(c[E]),o.classList.remove("_tab-spoller"))})})}function s(n){let r=n.querySelectorAll("[data-tabs-titles]>*"),o=n.querySelectorAll("[data-tabs-body]>*");const d=n.dataset.tabsIndex,c=e[0]==d;if(c){const u=n.querySelector("[data-tabs-titles]>._tab-active");u&&u.classList.remove("_tab-active")}o.length&&o.forEach((u,p)=>{r[p].setAttribute("data-tabs-title",""),u.setAttribute("data-tabs-item",""),c&&p==e[1]&&r[p].classList.add("_tab-active"),u.hidden=!r[p].classList.contains("_tab-active")})}function l(n){let r=n.querySelectorAll("[data-tabs-title]"),o=n.querySelectorAll("[data-tabs-item]");const d=n.dataset.tabsIndex;function c(p){if(p.hasAttribute("data-tabs-animate"))return p.dataset.tabsAnimate>0?Number(p.dataset.tabsAnimate):500}const u=c(n);if(o.length>0){const p=n.hasAttribute("data-tabs-hash");o=Array.from(o).filter(f=>f.closest("[data-tabs]")===n),r=Array.from(r).filter(f=>f.closest("[data-tabs]")===n),o.forEach((f,E)=>{r[E].classList.contains("_tab-active")?(u?j(f,u):f.hidden=!1,p&&!f.closest(".popup")&&Y(`tab-${d}-${E}`)):u?F(f,u):f.hidden=!0})}}function i(n){const r=n.target;if(r.closest("[data-tabs-title]")){const o=r.closest("[data-tabs-title]"),d=o.closest("[data-tabs]");if(!o.classList.contains("_tab-active")&&!d.querySelector("._slide")){let c=d.querySelectorAll("[data-tabs-title]._tab-active");c.length&&(c=Array.from(c).filter(u=>u.closest("[data-tabs]")===d)),c.length&&c[0].classList.remove("_tab-active"),o.classList.add("_tab-active"),l(d)}n.preventDefault()}}}function I(a){return a.filter(function(e,t,s){return s.indexOf(e)===t})}function ee(a,e){const t=Array.from(a).filter(function(s,l,i){if(s.dataset[e])return s.dataset[e].split(",")[0]});if(t.length){const s=[];t.forEach(n=>{const r=n.dataset[e],o={},d=r.split(",");o.value=d[0],o.type=d[1]?d[1].trim():"max",o.item=n,s.push(o)});let l=s.map(function(n){return"("+n.type+"-width: "+n.value+"px),"+n.value+","+n.type});l=I(l);const i=[];if(l.length)return l.forEach(n=>{const r=n.split(","),o=r[1],d=r[2],c=window.matchMedia(r[0]),u=s.filter(function(p){if(p.value===o&&p.type===d)return!0});i.push({itemsArray:u,matchMedia:c})}),i}}class te{constructor(e){let t={init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.eventsPopup()}eventsPopup(){document.addEventListener("click",(function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t){if(e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen){e.preventDefault(),this.close();return}}).bind(this)),document.addEventListener("keydown",(function(e){if(this.options.closeEsc&&e.which==27&&e.code==="Escape"&&this.isOpen){e.preventDefault(),this.close();return}if(this.options.focusCatch&&e.which==9&&this.isOpen){this._focusCatch(e);return}}).bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",(function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}).bind(this)),window.addEventListener("load",(function(){window.location.hash&&this._openToHash()}).bind(this)))}open(e){if(q&&(this.bodyLock=!!(document.documentElement.classList.contains("lock")&&!this.isOpen),e&&typeof e=="string"&&e.trim()!==""&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element)){if(this.youTubeCode){const s=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,l=document.createElement("iframe");l.setAttribute("allowfullscreen","");const i=this.options.setAutoplayYoutube?"autoplay;":"";l.setAttribute("allow",`${i}; encrypted-media`),l.setAttribute("src",s),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(l)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:this.bodyLock||Z(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(e){e&&typeof e=="string"&&e.trim()!==""&&(this.previousOpen.selector=e),!(!this.isOpen||!q)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),this.bodyLock||J(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;if(!e)return;const t=document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`);t&&(this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,t&&e&&this.open(e))}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(t),l=s.indexOf(document.activeElement);e.shiftKey&&l===0&&(s[s.length-1].focus(),e.preventDefault()),!e.shiftKey&&l===s.length-1&&(s[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}}M.popup=new te({});let N={getErrors(a){let e=0,t=a.querySelectorAll("*[data-required]");return t.length&&t.forEach(s=>{(s.offsetParent!==null||s.tagName==="SELECT")&&!s.disabled&&(e+=this.validateInput(s))}),e},validateInput(a){let e=0;return a.dataset.required==="email"?(a.value=a.value.replace(" ",""),this.emailTest(a)?(this.addError(a),e++):this.removeError(a)):a.type==="checkbox"&&!a.checked?(this.addError(a),e++):a.value.trim()?this.removeError(a):(this.addError(a),e++),e},addError(a){a.classList.add("_form-error"),a.parentElement.classList.add("_form-error");let e=a.parentElement.querySelector(".form__error");e&&a.parentElement.removeChild(e),a.dataset.error&&a.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${a.dataset.error}</div>`)},removeError(a){a.classList.remove("_form-error"),a.parentElement.classList.remove("_form-error"),a.parentElement.querySelector(".form__error")&&a.parentElement.removeChild(a.parentElement.querySelector(".form__error"))},formClean(a){a.reset(),setTimeout(()=>{let e=a.querySelectorAll("input,textarea");for(let s=0;s<e.length;s++){const l=e[s];l.parentElement.classList.remove("_form-focus"),l.classList.remove("_form-focus"),N.removeError(l)}let t=a.querySelectorAll(".checkbox__input");if(t.length>0)for(let s=0;s<t.length;s++){const l=t[s];l.checked=!1}if(M.select){let s=a.querySelectorAll("div.select");if(s.length)for(let l=0;l<s.length;l++){const i=s[l].querySelector("select");M.select.selectBuild(i)}}},0)},emailTest(a){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(a.value)}};class se{constructor(e,t=null){let s={init:!0,speed:150};if(this.config=Object.assign(s,e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"_select-disabled",classSelectTag:"_select-tag",classSelectOpen:"_select-open",classSelectActive:"_select-active",classSelectFocus:"_select-focus",classSelectMultiple:"_select-multiple",classSelectCheckBox:"_select-checkbox",classSelectOptionSelected:"_select-selected",classSelectPseudoLabel:"_select-pseudo-label"},this._this=this,this.config.init){const l=t?document.querySelectorAll(t):document.querySelectorAll("select");l.length&&this.selectsInit(l)}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach((t,s)=>{this.selectInit(t,s+1)}),document.addEventListener("click",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("keydown",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusin",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusout",(function(t){this.selectsActions(t)}).bind(this))}selectInit(e,t){const s=this;let l=document.createElement("div");l.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(l,e),l.appendChild(e),e.hidden=!0,t&&(e.dataset.id=t),this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show&&this.getSelectElement(l,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)),l.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.speed=e.dataset.speed?e.dataset.speed:this.config.speed,this.config.speed=+e.dataset.speed,e.addEventListener("change",function(i){s.selectChange(i)})}selectBuild(e){const t=e.parentElement;t.dataset.id=e.dataset.id,e.dataset.classModif&&t.classList.add(`select_${e.dataset.classModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-search")&&this.searchActions(t),e.hasAttribute("data-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type;if(t.closest(this.getSelectClass(this.selectClasses.classSelect))||t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const l=t.closest(".select")?t.closest(".select"):document.querySelector(`.${this.selectClasses.classSelect}[data-id="${t.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`),i=this.getSelectElement(l).originalSelect;if(s==="click"){if(!i.disabled){if(t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const n=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),r=document.querySelector(`.${this.selectClasses.classSelect}[data-id="${n.dataset.selectId}"] .select__option[data-value="${n.dataset.value}"]`);this.optionAction(l,i,r)}else if(t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)))this.selectAction(l);else if(t.closest(this.getSelectClass(this.selectClasses.classSelectOption))){const n=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));this.optionAction(l,i,n)}}}else s==="focusin"||s==="focusout"?t.closest(this.getSelectClass(this.selectClasses.classSelect))&&(s==="focusin"?l.classList.add(this.selectClasses.classSelectFocus):l.classList.remove(this.selectClasses.classSelectFocus)):s==="keydown"&&e.code==="Escape"&&this.selectsСlose()}else this.selectsСlose()}selectsСlose(e){const s=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);s.length&&s.forEach(l=>{this.selectСlose(l)})}selectСlose(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),F(s,t.dataset.speed),setTimeout(()=>{e.style.zIndex=""},t.dataset.speed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,l=t.dataset.zIndex?t.dataset.zIndex:3;if(this.setOptionsPosition(e),t.closest("[data-one-select]")){const i=t.closest("[data-one-select]");this.selectsСlose(i)}setTimeout(()=>{s.classList.contains("_slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),Q(s,t.dataset.speed),e.classList.contains(this.selectClasses.classSelectOpen)?e.style.zIndex=l:setTimeout(()=>{e.style.zIndex=""},t.dataset.speed))},0)}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,l=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;l&&l.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t)),t.hasAttribute("data-search")&&this.searchActions(e)}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-tags")&&(s=this.getSelectedOptionsData(t).elements.map(n=>`<span role="button" data-select-id="${e.dataset.id}" data-value="${n.value}" class="_select-tag">${this.getSelectElementContent(n)}</span>`).join(""),t.dataset.tags&&document.querySelector(t.dataset.tags)&&(document.querySelector(t.dataset.tags).innerHTML=s,t.hasAttribute("data-search")&&(s=!1))),s=s.length?s:t.dataset.placeholder?t.dataset.placeholder:"";let l="",i="";if(t.hasAttribute("data-pseudo-label")&&(l=t.dataset.pseudoLabel?` data-pseudo-label="${t.dataset.pseudoLabel}"`:' data-pseudo-label="Заповніть атрибут"',i=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${l} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const n=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.class?` ${this.getSelectedOptionsData(t).elements[0].dataset.class}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${l} class="${this.selectClasses.classSelectValue}${i}"><span class="${this.selectClasses.classSelectContent}${n}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.asset?`${e.dataset.asset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let l="";return l+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",l+=t?`<span class="${this.selectClasses.classSelectData}">`:"",l+=t?s:"",l+=t?"</span>":"",l+=t?`<span class="${this.selectClasses.classSelectText}">`:"",l+=e.textContent,l+=t?"</span>":"",l+=t?"</span>":"",l}getSelectPlaceholder(e){const t=Array.from(e.options).find(s=>!s.value);if(t)return{value:t.textContent,show:t.hasAttribute("data-show"),label:{show:t.hasAttribute("data-label"),text:t.dataset.label}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter(l=>l.value).filter(l=>l.selected):s.push(e.options[e.selectedIndex]),{elements:s.map(l=>l),values:s.filter(l=>l.value).map(l=>l.value),html:s.map(l=>this.getSelectElementContent(l))}}getOptions(e){const t=e.hasAttribute("data-scroll")?"data-simplebar":"",s=+e.dataset.scroll?+e.dataset.scroll:null;let l=Array.from(e.options);if(l.length>0){let i="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(l=l.filter(n=>n.value)),i+=`<div ${t} ${t?`style="max-height: ${s}px"`:""} class="${this.selectClasses.classSelectOptionsScroll}">`,l.forEach(n=>{n.hasAttribute("data-group")?i+=this.getGroup(n,e):i+=this.getOption(n,e)}),i+="</div>",i}}getGroup(e,t){const s=e.dataset.group,l=Array.from(t.options).filter(n=>n.dataset.parent===s);let i=`
		<div class="select__group">
			<div class="select__group-title" data-group="${s}">${e.textContent}</div>
			<div class="select__group-content" hidden>
	`;return l.forEach(n=>{i+=this.getOption(n,t)}),i+="</div></div>",i}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",l=e.selected&&!t.hasAttribute("data-show-selected")&&!t.multiple?"hidden":"",i=e.dataset.class?` ${e.dataset.class}`:"",n=e.dataset.href?e.dataset.href:!1,r=e.hasAttribute("data-href-blank")?'target="_blank"':"";let o="";return o+=n?`<a ${r} ${l} href="${n}" data-value="${e.value}" class="${this.selectClasses.classSelectOption}${i}${s}">`:`<button ${l} class="${this.selectClasses.classSelectOption}${i}${s}" data-value="${e.value}" type="button">`,o+=this.getSelectElementContent(e),o+=n?"</a>":"</button>",o}setOptions(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.innerHTML=this.getOptions(t)}setOptionsPosition(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,l=this.getSelectElement(e,this.selectClasses.classSelectOptionsScroll).selectElement,i=+t.dataset.scroll?`${+t.dataset.scroll}px`:"",n=+t.dataset.optionsMargin?+t.dataset.optionsMargin:10;if(e.classList.contains(this.selectClasses.classSelectOpen))setTimeout(()=>{e.classList.remove("select--show-top"),l.style.maxHeight=i},+t.dataset.speed);else{s.hidden=!1;const r=l.offsetHeight?l.offsetHeight:parseInt(window.getComputedStyle(l).getPropertyValue("max-height")),o=s.offsetHeight>r?s.offsetHeight:r+s.offsetHeight,d=o-r;s.hidden=!0;const c=e.offsetHeight,u=e.getBoundingClientRect().top,p=u+o+c+d,f=window.innerHeight-(p+n);if(f<0){const E=o+f;E<100?(e.classList.add("select--show-top"),l.style.maxHeight=u<o?`${u-(o-u)}px`:i):(e.classList.remove("select--show-top"),l.style.maxHeight=`${E}px`)}}}optionAction(e,t,s){e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOptions)}`).classList.contains("_slide")||(t.multiple?(s.classList.toggle(this.selectClasses.classSelectOptionSelected),this.getSelectedOptionsData(t).elements.forEach(r=>{r.removeAttribute("selected")}),e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected)).forEach(r=>{t.querySelector(`option[value = "${r.dataset.value}"]`).setAttribute("selected","selected")})):(t.hasAttribute("data-show-selected")||setTimeout(()=>{e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`)&&(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden=!1),s.hidden=!0},this.config.speed),t.value=s.hasAttribute("data-value")?s.dataset.value:s.textContent,this.selectAction(e)),this.setSelectTitleValue(e,t),this.setSelectChange(t))}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-validate")&&N.validateInput(e),e.hasAttribute("data-submit")&&e.value){let s=document.createElement("button");s.type="submit",e.closest("form").append(s),s.click(),s.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){this.getSelectElement(e).originalSelect;const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,l=s.querySelectorAll(`.${this.selectClasses.classSelectOption} `),i=this;t.addEventListener("input",function(){l.forEach(n=>{n.textContent.toUpperCase().includes(t.value.toUpperCase())?n.hidden=!1:n.hidden=!0}),s.hidden===!0&&i.selectAction(e)})}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}}M.select=new se({});class le{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(e=>{const s=e.dataset.da.trim().split(","),l={};l.element=e,l.parent=e.parentNode,l.destination=document.querySelector(`${s[0].trim()}`),l.breakpoint=s[1]?s[1].trim():"767.98",l.place=s[2]?s[2].trim():"last",l.index=this.indexInParent(l.parent,l.element),this.оbjects.push(l)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:e})=>`(${this.type}-width: ${e/16}em),${e}`).filter((e,t,s)=>s.indexOf(e)===t),this.mediaQueries.forEach(e=>{const t=e.split(","),s=window.matchMedia(t[0]),l=t[1],i=this.оbjects.filter(({breakpoint:n})=>n===l);s.addEventListener("change",()=>{this.mediaHandler(s,i)}),this.mediaHandler(s,i)})}mediaHandler(e,t){e.matches?t.forEach(s=>{this.moveTo(s.place,s.element,s.destination)}):t.forEach(({parent:s,element:l,index:i})=>{l.classList.contains(this.daClassname)&&this.moveBack(s,l,i)})}moveTo(e,t,s){if(t.classList.add(this.daClassname),e==="last"||e>=s.children.length){s.append(t);return}if(e==="first"){s.prepend(t);return}s.children[e].before(t)}moveBack(e,t,s){t.classList.remove(this.daClassname),e.children[s]!==void 0?e.children[s].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){if(this.type==="min")e.sort((t,s)=>t.breakpoint===s.breakpoint?t.place===s.place?0:t.place==="first"||s.place==="last"?-1:t.place==="last"||s.place==="first"?1:0:t.breakpoint-s.breakpoint);else{e.sort((t,s)=>t.breakpoint===s.breakpoint?t.place===s.place?0:t.place==="first"||s.place==="last"?1:t.place==="last"||s.place==="first"?-1:0:s.breakpoint-t.breakpoint);return}}}new le("max").init();const ae=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",ne=a=>a==null?"":String(a).replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"})[e]??e),ie=a=>ne(a).replace(/\n/g,"<br>"),U=document.querySelector("[data-support-btn]"),g=document.querySelector("[data-support-window]");if(U&&g){const a=g.querySelector(".chat__close"),e=g.querySelector("[data-support-messages]"),t=g.dataset.supportFetchUrl||"",s=g.dataset.supportSendUrl||"",l=g.querySelector("[data-support-error]"),i=g.querySelector("[data-support-form]"),n=i?i.querySelector('input[name="message"]')||i.querySelector(".chat__input"):null;let r=!1;const o=b=>{l&&(b?(l.textContent=b,l.style.display="inline"):(l.textContent="",l.style.display="none"))},d=()=>{e&&requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight})},c=b=>{if(e){if(e.innerHTML="",!b||!b.length){const m=document.createElement("div");m.className="chat__item",m.textContent=g.dataset.supportEmptyText||"There are no messages yet.",e.appendChild(m);return}b.forEach(m=>{const C=document.createElement("div");C.className="chat__item"+(m.direction==="outbound"?" chat__item--answer":"");const A=document.createElement("div");A.className="chat__item-content";const x=document.createElement("span");if(x.className="chat__item-text",x.innerHTML=ie(m.message??""),A.appendChild(x),m.created_at){const T=document.createElement("span");T.className="chat__item-time",T.textContent=m.created_at,A.appendChild(T)}C.appendChild(A),e.appendChild(C)})}},u=async(b={})=>{if(!(!t||r)){r=!0;try{const m=await fetch(t,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(m.ok){const C=await m.json();c(C.messages||[]),b.silent||d()}}catch{b.silent||o("Не удалось получить сообщения.")}finally{r=!1}}},p=async()=>{if(!i||!s)return;const b=n?n.value.trim():"";if(!b){o("Введите сообщение.");return}const m=new FormData(i);m.has("message")||m.set("message",b),o("");try{const C=await fetch(s,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":ae},body:m});if(C.ok){const A=await C.json();c(A.messages||[]),n&&(n.value=""),o(""),d()}else if(C.status===422){const A=await C.json().catch(()=>null),x=A?.errors,T=A?.message||(x?Object.values(x)[0]?.[0]:null)||"Не удалось отправить сообщение.";o(T)}else o("Не удалось отправить сообщение.")}catch{o("Не удалось отправить сообщение.")}};i&&i.addEventListener("submit",b=>{b.preventDefault(),p()});const f=()=>{g.style.display="flex",requestAnimationFrame(()=>{g.classList.add("show"),u({silent:!0}),d()})},E=()=>{g.classList.remove("show"),g.addEventListener("transitionend",()=>{g.style.display="none"},{once:!0})},_=()=>{g.classList.contains("show")?E():f()};a?.addEventListener("click",_),U.addEventListener("click",_),u({silent:!0}),g.dataset.supportOpen==="true"&&f(),setInterval(()=>{g.classList.contains("show")&&u({silent:!0})},5e3)}document.querySelectorAll(".mobile-nav-tabs button")?.forEach(a=>{a.addEventListener("click",()=>{document.querySelectorAll(".mobile-nav-tabs button").forEach(e=>e.classList.remove("active")),a.classList.add("active"),document.querySelector(".main").classList.remove("active"),document.querySelector(".aside").classList.remove("active"),document.querySelector("."+a.dataset.tab).classList.add("active")})});function oe(){const a=document.querySelectorAll("[data-file-upload]");if(!a.length)return;const e=s=>s===1?"1 файл выбран":s>=2&&s<=4?`${s} файла выбрано`:`${s} файлов выбрано`,t=s=>{if(!s&&s!==0)return"";const l=["Б","КБ","МБ","ГБ"];let i=s,n=0;for(;i>=1024&&n<l.length-1;)i/=1024,n+=1;return`${i>=10||n===0?Math.round(i):i.toFixed(1)} ${l[n]}`};a.forEach(s=>{const l=s.querySelector("[data-file-upload-input]");if(!l)return;const i=s.querySelector("[data-file-upload-label]"),n=s.querySelector("[data-file-upload-list]"),r=i?i.textContent.trim():"",o=[];let d=[];const c=typeof DataTransfer<"u",u=parseInt(l.getAttribute("data-max-files"),10),p=Number.isFinite(u)&&u>0?u:null,f=s.dataset.fileUploadDocList||"",E=s.dataset.fileUploadDocEmpty||"",_=f?document.querySelector(f):null,b=E?document.querySelector(E):null,m=()=>{o.splice(0).forEach(h=>URL.revokeObjectURL(h))},C=h=>{const v=[],y=new Set;return h.forEach(S=>{const L=`${S.name}|${S.size}|${S.lastModified}`;y.has(L)||(y.add(L),v.push(S))}),p!==null&&v.length>p?v.slice(0,p):v},A=()=>{if(!c){d.length||(l.value="");return}const h=new DataTransfer;d.forEach(v=>h.items.add(v)),l.files=h.files},x=()=>{_&&_.querySelectorAll("[data-document-preview]").forEach(h=>h.remove())},T=()=>{if(!b)return;const h=_?_.querySelectorAll("[data-document-entry]").length>0:!1,v=d.length>0;b.style.display=h||v?"none":""},V=h=>{h<0||(!c&&l.files&&l.files.length?(d=[],l.value=""):d=C(d.filter((v,y)=>y!==h)),A(),W())},ce=(h,v)=>{const y=document.createElement("li");y.className="modal-content__file-item";const S=document.createElement("div");if(S.className="modal-content__file-thumb",h.type&&h.type.startsWith("image/")){const P=URL.createObjectURL(h);o.push(P);const O=document.createElement("img");O.src=P,O.alt=h.name,S.appendChild(O)}else{const P=(h.name.split(".").pop()||"FILE").toUpperCase().slice(0,4),O=document.createElement("span");O.className="modal-content__file-icon",O.textContent=P,S.appendChild(O)}const L=document.createElement("div");L.className="modal-content__file-meta";const $=document.createElement("span");$.className="modal-content__file-name",$.textContent=h.name;const k=document.createElement("span");k.className="modal-content__file-size",k.textContent=t(h.size),L.appendChild($),k.textContent&&L.appendChild(k),y.appendChild(S),y.appendChild(L);const w=document.createElement("button");return w.type="button",w.className="modal-content__file-remove",w.setAttribute("aria-label","Удалить файл"),w.innerHTML='<span aria-hidden="true">&times;</span>',w.addEventListener("click",()=>V(v)),y.appendChild(w),y},re=(h,v)=>{const y=document.createElement("li");y.dataset.documentPreview="true",y.style.cssText="display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;";const S=document.createElement("div");S.style.cssText="display: flex; align-items: center; gap: 0.75rem;";const L=document.createElement("div");if(L.style.cssText="width: 64px; height: 64px; border-radius: 0.75rem; overflow: hidden; display: flex; align-items: center; justify-content: center; background: rgba(99,102,241,.08); color: #312e81; font-weight: 600; font-size: .75rem; text-transform: uppercase; border: 1px solid rgba(148, 163, 184, .35);",h.type&&h.type.startsWith("image/")){const D=URL.createObjectURL(h);o.push(D);const B=document.createElement("img");B.src=D,B.alt=h.name,B.style.cssText="width: 100%; height: 100%; object-fit: cover;",L.innerHTML="",L.appendChild(B)}else{const D=(h.name.split(".").pop()||"FILE").toUpperCase().slice(0,4);L.textContent=D}const $=document.createElement("div");$.style.cssText="display: flex; flex-direction: column; gap: 0.2rem;";const k=document.createElement("div");k.style.cssText="font-weight: 600; color: #0f172a;",k.textContent=h.name;const w=document.createElement("div");w.style.cssText="font-size: 0.8rem; color: #475569;",w.textContent=t(h.size);const P=document.createElement("span");P.style.cssText="display: inline-flex; align-items: center; justify-content: center; padding: 0.2rem 0.6rem; border-radius: 999px; background: #eef2ff; color: #312e81; font-size: 0.75rem; font-weight: 600; width: fit-content;",P.textContent="Новый документ",$.appendChild(k),w.textContent&&$.appendChild(w),$.appendChild(P),S.appendChild(L),S.appendChild($);const O=document.createElement("div");O.style.cssText="display: flex; align-items: center; gap: 0.5rem;";const H=document.createElement("button");return H.type="button",H.className="btn btn--md",H.style.background="#F1F5F9",H.style.color="#111827",H.textContent="Удалить",H.addEventListener("click",()=>V(v)),O.appendChild(H),y.appendChild(S),y.appendChild(O),y},de=()=>{if(!_){T();return}m(),x();const h=_.querySelector("[data-document-entry]");d.forEach((v,y)=>{const S=re(v,y);h?_.insertBefore(S,h):_.appendChild(S)}),T()},W=()=>{const h=d;i&&(_?i.textContent=r||"Прикрепить файлы":h.length?h.length===1?i.textContent=h[0].name:i.textContent=e(h.length):i.textContent=r||"Прикрепить файлы"),n&&(_?n.innerHTML="":(m(),n.innerHTML="",h.forEach((v,y)=>{n.appendChild(ce(v,y))}))),de()},X=()=>{d=[],A(),l.value="",m(),i&&(i.textContent=r||"Прикрепить файлы"),n&&(n.innerHTML=""),x(),T()};l.addEventListener("change",()=>{const h=Array.from(l.files||[]);h.length&&(c?(d=C(d.concat(h)),l.value="",A()):(d=C(h),l.value=""),W())});const G=s.closest("form");G&&G.addEventListener("reset",()=>{setTimeout(X,0)}),X()})}const z=()=>{const a=document.querySelector(".withdrawal");if(document.querySelectorAll("[data-transaction-scope]").forEach(i=>{const n=i.querySelectorAll("[data-transaction-tab]");if(!n.length)return;const r=i.querySelectorAll("[data-transaction-panel]"),o=d=>{n.forEach(c=>{const u=c.dataset.transactionTab===d;c.classList.toggle("transaction-tab--active",u),c.setAttribute("aria-pressed",u?"true":"false")}),r.forEach(c=>{const u=c.dataset.transactionPanel===d;c.classList.toggle("is-active",u),c.hidden=!u})};n.forEach(d=>{d.addEventListener("click",()=>o(d.dataset.transactionTab))}),o("transactions")}),a){const i=a.querySelector(".withdrawal__back"),n=a.querySelectorAll(".withdrawal__block"),r=a.querySelector("[data-withdraw-nav]"),o=a.querySelectorAll(".withdrawal__btn");i.style.display="none",n.forEach(c=>{c!==r&&(c.style.display="none")}),o.forEach(c=>{c.addEventListener("click",()=>{const u=c.dataset.target;n.forEach(p=>p.style.display="none"),a.querySelector(`[data-withdraw-${u}]`).style.display="flex",r.style.display="none",i.style.display="inline-flex",o.forEach(p=>p.classList.remove("active")),c.classList.add("active")})});const d=a.dataset.initialMethod;if(d){const c=Array.from(o).find(u=>u.dataset.target===d);c&&c.click()}i.addEventListener("click",()=>{n.forEach(c=>{c!==r&&(c.style.display="none")}),r.style.display="flex",i.style.display="none"})}const t=document.querySelector(".admin-panel");if(t){const i="admin-dashboard-scroll",n=new Set,r=c=>{c&&c.querySelectorAll("form").forEach(u=>{u.hasAttribute("data-ignore-scroll")||(u.getAttribute("method")||u.method||"get").toLowerCase()==="get"&&!u.hasAttribute("data-preserve-scroll")||n.add(u)})};r(t),document.querySelectorAll(".popup").forEach(c=>r(c)),document.querySelectorAll("form[data-preserve-scroll]").forEach(c=>n.add(c));const o=()=>{sessionStorage.setItem(i,String(window.scrollY||0))};n.forEach(c=>{c.addEventListener("submit",o,{capture:!0})});const d=()=>{const c=sessionStorage.getItem(i);if(c===null)return;sessionStorage.removeItem(i);const u=Number.parseFloat(c);Number.isNaN(u)||requestAnimationFrame(()=>{window.scrollTo(0,u)})};window.addEventListener("pageshow",()=>{d()}),d()}oe(),R();const s=document.querySelector('[data-action="delete-user-toggle"]'),l=document.querySelector('[data-role="delete-user-confirm"]');if(s&&l){const i=l.querySelector('[data-action="delete-user-cancel"]'),n=()=>{s.style.display="none",l.style.display="block"},r=()=>{l.style.display="none",s.style.display=""};s.addEventListener("click",n),i&&i.addEventListener("click",r)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",z):z()})();

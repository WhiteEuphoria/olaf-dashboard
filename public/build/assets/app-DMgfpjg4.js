(()=>{const H=typeof window<"u"&&window.modules_flsModules?window.modules_flsModules:{};typeof window<"u"&&(window.modules_flsModules=H);function Y(){if(location.hash)return location.hash.replace("#","")}function Q(l){l=l?`#${l}`:window.location.href.split("#")[0],history.pushState("","",l)}let F=(l,e=500,t=0)=>{l.classList.contains("_slide")||(l.classList.add("_slide"),l.style.transitionProperty="height, margin, padding",l.style.transitionDuration=e+"ms",l.style.height=`${l.offsetHeight}px`,l.offsetHeight,l.style.overflow="hidden",l.style.height=t?`${t}px`:"0px",l.style.paddingTop=0,l.style.paddingBottom=0,l.style.marginTop=0,l.style.marginBottom=0,window.setTimeout(()=>{l.hidden=!t,t||l.style.removeProperty("height"),l.style.removeProperty("padding-top"),l.style.removeProperty("padding-bottom"),l.style.removeProperty("margin-top"),l.style.removeProperty("margin-bottom"),t||l.style.removeProperty("overflow"),l.style.removeProperty("transition-duration"),l.style.removeProperty("transition-property"),l.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:l}}))},e))},N=(l,e=500,t=0)=>{if(!l.classList.contains("_slide")){l.classList.add("_slide"),l.hidden=l.hidden?!1:null,t&&l.style.removeProperty("height");let s=l.offsetHeight;l.style.overflow="hidden",l.style.height=t?`${t}px`:"0px",l.style.paddingTop=0,l.style.paddingBottom=0,l.style.marginTop=0,l.style.marginBottom=0,l.offsetHeight,l.style.transitionProperty="height, margin, padding",l.style.transitionDuration=e+"ms",l.style.height=s+"px",l.style.removeProperty("padding-top"),l.style.removeProperty("padding-bottom"),l.style.removeProperty("margin-top"),l.style.removeProperty("margin-bottom"),window.setTimeout(()=>{l.style.removeProperty("height"),l.style.removeProperty("overflow"),l.style.removeProperty("transition-duration"),l.style.removeProperty("transition-property"),l.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:l}}))},e)}},J=(l,e=500)=>l.hidden?N(l,e):F(l,e),P=!0,Z=(l=500)=>{if(P){const e=document.querySelectorAll("[data-lp]");setTimeout(()=>{e.forEach(t=>{t.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.classList.remove("lock")},l),P=!1,setTimeout(function(){P=!0},l)}},R=(l=500)=>{if(P){const e=document.querySelectorAll("[data-lp]"),t=window.innerWidth-document.body.offsetWidth+"px";e.forEach(s=>{s.style.paddingRight=t}),document.body.style.paddingRight=t,document.documentElement.classList.add("lock"),P=!1,setTimeout(function(){P=!0},l)}};function I(){const l=document.querySelectorAll("[data-tabs]");let e=[];if(l.length>0){const n=Y();n&&n.startsWith("tab-")&&(e=n.replace("tab-","").split("-")),l.forEach((o,d)=>{o.classList.add("_tab-init"),o.setAttribute("data-tabs-index",d),o.addEventListener("click",i),s(o)});let r=te(l,"tabs");r&&r.length&&r.forEach(o=>{o.matchMedia.addEventListener("change",function(){t(o.itemsArray,o.matchMedia)}),t(o.itemsArray,o.matchMedia)})}function t(n,r){n.forEach(o=>{o=o.item;let d=o.querySelector("[data-tabs-titles]"),c=o.querySelectorAll("[data-tabs-title]"),u=o.querySelector("[data-tabs-body]"),h=o.querySelectorAll("[data-tabs-item]");c=Array.from(c).filter(f=>f.closest("[data-tabs]")===o),h=Array.from(h).filter(f=>f.closest("[data-tabs]")===o),h.forEach((f,_)=>{r.matches?(u.append(c[_]),u.append(f),o.classList.add("_tab-spoller")):(d.append(c[_]),o.classList.remove("_tab-spoller"))})})}function s(n){let r=n.querySelectorAll("[data-tabs-titles]>*"),o=n.querySelectorAll("[data-tabs-body]>*");const d=n.dataset.tabsIndex,c=e[0]==d;if(c){const u=n.querySelector("[data-tabs-titles]>._tab-active");u&&u.classList.remove("_tab-active")}o.length&&o.forEach((u,h)=>{r[h].setAttribute("data-tabs-title",""),u.setAttribute("data-tabs-item",""),c&&h==e[1]&&r[h].classList.add("_tab-active"),u.hidden=!r[h].classList.contains("_tab-active")})}function a(n){let r=n.querySelectorAll("[data-tabs-title]"),o=n.querySelectorAll("[data-tabs-item]");const d=n.dataset.tabsIndex;function c(h){if(h.hasAttribute("data-tabs-animate"))return h.dataset.tabsAnimate>0?Number(h.dataset.tabsAnimate):500}const u=c(n);if(o.length>0){const h=n.hasAttribute("data-tabs-hash");o=Array.from(o).filter(f=>f.closest("[data-tabs]")===n),r=Array.from(r).filter(f=>f.closest("[data-tabs]")===n),o.forEach((f,_)=>{r[_].classList.contains("_tab-active")?(u?N(f,u):f.hidden=!1,h&&!f.closest(".popup")&&Q(`tab-${d}-${_}`)):u?F(f,u):f.hidden=!0})}}function i(n){const r=n.target;if(r.closest("[data-tabs-title]")){const o=r.closest("[data-tabs-title]"),d=o.closest("[data-tabs]");if(!o.classList.contains("_tab-active")&&!d.querySelector("._slide")){let c=d.querySelectorAll("[data-tabs-title]._tab-active");c.length&&(c=Array.from(c).filter(u=>u.closest("[data-tabs]")===d)),c.length&&c[0].classList.remove("_tab-active"),o.classList.add("_tab-active"),a(d)}n.preventDefault()}}}function ee(l){return l.filter(function(e,t,s){return s.indexOf(e)===t})}function te(l,e){const t=Array.from(l).filter(function(s,a,i){if(s.dataset[e])return s.dataset[e].split(",")[0]});if(t.length){const s=[];t.forEach(n=>{const r=n.dataset[e],o={},d=r.split(",");o.value=d[0],o.type=d[1]?d[1].trim():"max",o.item=n,s.push(o)});let a=s.map(function(n){return"("+n.type+"-width: "+n.value+"px),"+n.value+","+n.type});a=ee(a);const i=[];if(a.length)return a.forEach(n=>{const r=n.split(","),o=r[1],d=r[2],c=window.matchMedia(r[0]),u=s.filter(function(h){if(h.value===o&&h.type===d)return!0});i.push({itemsArray:u,matchMedia:c})}),i}}class se{constructor(e){let t={init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.eventsPopup()}eventsPopup(){document.addEventListener("click",(function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t){if(e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen){e.preventDefault(),this.close();return}}).bind(this)),document.addEventListener("keydown",(function(e){if(this.options.closeEsc&&e.which==27&&e.code==="Escape"&&this.isOpen){e.preventDefault(),this.close();return}if(this.options.focusCatch&&e.which==9&&this.isOpen){this._focusCatch(e);return}}).bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",(function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}).bind(this)),window.addEventListener("load",(function(){window.location.hash&&this._openToHash()}).bind(this)))}open(e){if(P&&(this.bodyLock=!!(document.documentElement.classList.contains("lock")&&!this.isOpen),e&&typeof e=="string"&&e.trim()!==""&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element)){if(this.youTubeCode){const s=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,a=document.createElement("iframe");a.setAttribute("allowfullscreen","");const i=this.options.setAutoplayYoutube?"autoplay;":"";a.setAttribute("allow",`${i}; encrypted-media`),a.setAttribute("src",s),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(a)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:this.bodyLock||R(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(e){e&&typeof e=="string"&&e.trim()!==""&&(this.previousOpen.selector=e),!(!this.isOpen||!P)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),this.bodyLock||Z(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;if(!e)return;const t=document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`);t&&(this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,t&&e&&this.open(e))}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(t),a=s.indexOf(document.activeElement);e.shiftKey&&a===0&&(s[s.length-1].focus(),e.preventDefault()),!e.shiftKey&&a===s.length-1&&(s[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}}H.popup=new se({});const j=l=>{if(!l)return;const e=l.detail,t=typeof e=="string"?e:e?.selector;t&&H?.popup&&H.popup.open(t)};document.addEventListener("openPopup",j),typeof window<"u"&&(window.openPopup=l=>{j({detail:l})});let U={getErrors(l){let e=0,t=l.querySelectorAll("*[data-required]");return t.length&&t.forEach(s=>{(s.offsetParent!==null||s.tagName==="SELECT")&&!s.disabled&&(e+=this.validateInput(s))}),e},validateInput(l){let e=0;return l.dataset.required==="email"?(l.value=l.value.replace(" ",""),this.emailTest(l)?(this.addError(l),e++):this.removeError(l)):l.type==="checkbox"&&!l.checked?(this.addError(l),e++):l.value.trim()?this.removeError(l):(this.addError(l),e++),e},addError(l){l.classList.add("_form-error"),l.parentElement.classList.add("_form-error");let e=l.parentElement.querySelector(".form__error");e&&l.parentElement.removeChild(e),l.dataset.error&&l.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${l.dataset.error}</div>`)},removeError(l){l.classList.remove("_form-error"),l.parentElement.classList.remove("_form-error"),l.parentElement.querySelector(".form__error")&&l.parentElement.removeChild(l.parentElement.querySelector(".form__error"))},formClean(l){l.reset(),setTimeout(()=>{let e=l.querySelectorAll("input,textarea");for(let s=0;s<e.length;s++){const a=e[s];a.parentElement.classList.remove("_form-focus"),a.classList.remove("_form-focus"),U.removeError(a)}let t=l.querySelectorAll(".checkbox__input");if(t.length>0)for(let s=0;s<t.length;s++){const a=t[s];a.checked=!1}if(H.select){let s=l.querySelectorAll("div.select");if(s.length)for(let a=0;a<s.length;a++){const i=s[a].querySelector("select");H.select.selectBuild(i)}}},0)},emailTest(l){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(l.value)}};class le{constructor(e,t=null){let s={init:!0,speed:150};if(this.config=Object.assign(s,e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"_select-disabled",classSelectTag:"_select-tag",classSelectOpen:"_select-open",classSelectActive:"_select-active",classSelectFocus:"_select-focus",classSelectMultiple:"_select-multiple",classSelectCheckBox:"_select-checkbox",classSelectOptionSelected:"_select-selected",classSelectPseudoLabel:"_select-pseudo-label"},this._this=this,this.config.init){const a=t?document.querySelectorAll(t):document.querySelectorAll("select");a.length&&this.selectsInit(a)}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach((t,s)=>{this.selectInit(t,s+1)}),document.addEventListener("click",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("keydown",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusin",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusout",(function(t){this.selectsActions(t)}).bind(this))}selectInit(e,t){const s=this;let a=document.createElement("div");a.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(a,e),a.appendChild(e),e.hidden=!0,t&&(e.dataset.id=t),this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show&&this.getSelectElement(a,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)),a.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.speed=e.dataset.speed?e.dataset.speed:this.config.speed,this.config.speed=+e.dataset.speed,e.addEventListener("change",function(i){s.selectChange(i)})}selectBuild(e){const t=e.parentElement;t.dataset.id=e.dataset.id,e.dataset.classModif&&t.classList.add(`select_${e.dataset.classModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-search")&&this.searchActions(t),e.hasAttribute("data-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type;if(t.closest(this.getSelectClass(this.selectClasses.classSelect))||t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const a=t.closest(".select")?t.closest(".select"):document.querySelector(`.${this.selectClasses.classSelect}[data-id="${t.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`),i=this.getSelectElement(a).originalSelect;if(s==="click"){if(!i.disabled){if(t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const n=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),r=document.querySelector(`.${this.selectClasses.classSelect}[data-id="${n.dataset.selectId}"] .select__option[data-value="${n.dataset.value}"]`);this.optionAction(a,i,r)}else if(t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)))this.selectAction(a);else if(t.closest(this.getSelectClass(this.selectClasses.classSelectOption))){const n=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));this.optionAction(a,i,n)}}}else s==="focusin"||s==="focusout"?t.closest(this.getSelectClass(this.selectClasses.classSelect))&&(s==="focusin"?a.classList.add(this.selectClasses.classSelectFocus):a.classList.remove(this.selectClasses.classSelectFocus)):s==="keydown"&&e.code==="Escape"&&this.selectsСlose()}else this.selectsСlose()}selectsСlose(e){const s=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);s.length&&s.forEach(a=>{this.selectСlose(a)})}selectСlose(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),F(s,t.dataset.speed),setTimeout(()=>{e.style.zIndex=""},t.dataset.speed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,a=t.dataset.zIndex?t.dataset.zIndex:3;if(this.setOptionsPosition(e),t.closest("[data-one-select]")){const i=t.closest("[data-one-select]");this.selectsСlose(i)}setTimeout(()=>{s.classList.contains("_slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),J(s,t.dataset.speed),e.classList.contains(this.selectClasses.classSelectOpen)?e.style.zIndex=a:setTimeout(()=>{e.style.zIndex=""},t.dataset.speed))},0)}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,a=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;a&&a.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t)),t.hasAttribute("data-search")&&this.searchActions(e)}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-tags")&&(s=this.getSelectedOptionsData(t).elements.map(n=>`<span role="button" data-select-id="${e.dataset.id}" data-value="${n.value}" class="_select-tag">${this.getSelectElementContent(n)}</span>`).join(""),t.dataset.tags&&document.querySelector(t.dataset.tags)&&(document.querySelector(t.dataset.tags).innerHTML=s,t.hasAttribute("data-search")&&(s=!1))),s=s.length?s:t.dataset.placeholder?t.dataset.placeholder:"";let a="",i="";if(t.hasAttribute("data-pseudo-label")&&(a=t.dataset.pseudoLabel?` data-pseudo-label="${t.dataset.pseudoLabel}"`:' data-pseudo-label="Заповніть атрибут"',i=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${a} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const n=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.class?` ${this.getSelectedOptionsData(t).elements[0].dataset.class}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${a} class="${this.selectClasses.classSelectValue}${i}"><span class="${this.selectClasses.classSelectContent}${n}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.asset?`${e.dataset.asset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let a="";return a+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",a+=t?`<span class="${this.selectClasses.classSelectData}">`:"",a+=t?s:"",a+=t?"</span>":"",a+=t?`<span class="${this.selectClasses.classSelectText}">`:"",a+=e.textContent,a+=t?"</span>":"",a+=t?"</span>":"",a}getSelectPlaceholder(e){const t=Array.from(e.options).find(s=>!s.value);if(t)return{value:t.textContent,show:t.hasAttribute("data-show"),label:{show:t.hasAttribute("data-label"),text:t.dataset.label}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter(a=>a.value).filter(a=>a.selected):s.push(e.options[e.selectedIndex]),{elements:s.map(a=>a),values:s.filter(a=>a.value).map(a=>a.value),html:s.map(a=>this.getSelectElementContent(a))}}getOptions(e){const t=e.hasAttribute("data-scroll")?"data-simplebar":"",s=+e.dataset.scroll?+e.dataset.scroll:null;let a=Array.from(e.options);if(a.length>0){let i="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(a=a.filter(n=>n.value)),i+=`<div ${t} ${t?`style="max-height: ${s}px"`:""} class="${this.selectClasses.classSelectOptionsScroll}">`,a.forEach(n=>{n.hasAttribute("data-group")?i+=this.getGroup(n,e):i+=this.getOption(n,e)}),i+="</div>",i}}getGroup(e,t){const s=e.dataset.group,a=Array.from(t.options).filter(n=>n.dataset.parent===s);let i=`
		<div class="select__group">
			<div class="select__group-title" data-group="${s}">${e.textContent}</div>
			<div class="select__group-content" hidden>
	`;return a.forEach(n=>{i+=this.getOption(n,t)}),i+="</div></div>",i}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",a=e.selected&&!t.hasAttribute("data-show-selected")&&!t.multiple?"hidden":"",i=e.dataset.class?` ${e.dataset.class}`:"",n=e.dataset.href?e.dataset.href:!1,r=e.hasAttribute("data-href-blank")?'target="_blank"':"";let o="";return o+=n?`<a ${r} ${a} href="${n}" data-value="${e.value}" class="${this.selectClasses.classSelectOption}${i}${s}">`:`<button ${a} class="${this.selectClasses.classSelectOption}${i}${s}" data-value="${e.value}" type="button">`,o+=this.getSelectElementContent(e),o+=n?"</a>":"</button>",o}setOptions(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.innerHTML=this.getOptions(t)}setOptionsPosition(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,a=this.getSelectElement(e,this.selectClasses.classSelectOptionsScroll).selectElement,i=+t.dataset.scroll?`${+t.dataset.scroll}px`:"",n=+t.dataset.optionsMargin?+t.dataset.optionsMargin:10;if(e.classList.contains(this.selectClasses.classSelectOpen))setTimeout(()=>{e.classList.remove("select--show-top"),a.style.maxHeight=i},+t.dataset.speed);else{s.hidden=!1;const r=a.offsetHeight?a.offsetHeight:parseInt(window.getComputedStyle(a).getPropertyValue("max-height")),o=s.offsetHeight>r?s.offsetHeight:r+s.offsetHeight,d=o-r;s.hidden=!0;const c=e.offsetHeight,u=e.getBoundingClientRect().top,h=u+o+c+d,f=window.innerHeight-(h+n);if(f<0){const _=o+f;_<100?(e.classList.add("select--show-top"),a.style.maxHeight=u<o?`${u-(o-u)}px`:i):(e.classList.remove("select--show-top"),a.style.maxHeight=`${_}px`)}}}optionAction(e,t,s){e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOptions)}`).classList.contains("_slide")||(t.multiple?(s.classList.toggle(this.selectClasses.classSelectOptionSelected),this.getSelectedOptionsData(t).elements.forEach(r=>{r.removeAttribute("selected")}),e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected)).forEach(r=>{t.querySelector(`option[value = "${r.dataset.value}"]`).setAttribute("selected","selected")})):(t.hasAttribute("data-show-selected")||setTimeout(()=>{e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`)&&(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden=!1),s.hidden=!0},this.config.speed),t.value=s.hasAttribute("data-value")?s.dataset.value:s.textContent,this.selectAction(e)),this.setSelectTitleValue(e,t),this.setSelectChange(t))}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-validate")&&U.validateInput(e),e.hasAttribute("data-submit")&&e.value){let s=document.createElement("button");s.type="submit",e.closest("form").append(s),s.click(),s.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){this.getSelectElement(e).originalSelect;const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,a=s.querySelectorAll(`.${this.selectClasses.classSelectOption} `),i=this;t.addEventListener("input",function(){a.forEach(n=>{n.textContent.toUpperCase().includes(t.value.toUpperCase())?n.hidden=!1:n.hidden=!0}),s.hidden===!0&&i.selectAction(e)})}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}}H.select=new le({});class ae{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(e=>{const s=e.dataset.da.trim().split(","),a={};a.element=e,a.parent=e.parentNode,a.destination=document.querySelector(`${s[0].trim()}`),a.breakpoint=s[1]?s[1].trim():"767.98",a.place=s[2]?s[2].trim():"last",a.index=this.indexInParent(a.parent,a.element),this.оbjects.push(a)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:e})=>`(${this.type}-width: ${e/16}em),${e}`).filter((e,t,s)=>s.indexOf(e)===t),this.mediaQueries.forEach(e=>{const t=e.split(","),s=window.matchMedia(t[0]),a=t[1],i=this.оbjects.filter(({breakpoint:n})=>n===a);s.addEventListener("change",()=>{this.mediaHandler(s,i)}),this.mediaHandler(s,i)})}mediaHandler(e,t){e.matches?t.forEach(s=>{this.moveTo(s.place,s.element,s.destination)}):t.forEach(({parent:s,element:a,index:i})=>{a.classList.contains(this.daClassname)&&this.moveBack(s,a,i)})}moveTo(e,t,s){if(t.classList.add(this.daClassname),e==="last"||e>=s.children.length){s.append(t);return}if(e==="first"){s.prepend(t);return}s.children[e].before(t)}moveBack(e,t,s){t.classList.remove(this.daClassname),e.children[s]!==void 0?e.children[s].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){if(this.type==="min")e.sort((t,s)=>t.breakpoint===s.breakpoint?t.place===s.place?0:t.place==="first"||s.place==="last"?-1:t.place==="last"||s.place==="first"?1:0:t.breakpoint-s.breakpoint);else{e.sort((t,s)=>t.breakpoint===s.breakpoint?t.place===s.place?0:t.place==="first"||s.place==="last"?1:t.place==="last"||s.place==="first"?-1:0:s.breakpoint-t.breakpoint);return}}}new ae("max").init();const ne=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",ie=l=>l==null?"":String(l).replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"})[e]??e),oe=l=>ie(l).replace(/\n/g,"<br>"),z=document.querySelector("[data-support-btn]"),S=document.querySelector("[data-support-window]");if(z&&S){const l=S.querySelector(".chat__close"),e=S.querySelector("[data-support-messages]"),t=S.dataset.supportFetchUrl||"",s=S.dataset.supportSendUrl||"",a=S.querySelector("[data-support-error]"),i=S.querySelector("[data-support-form]"),n=i?i.querySelector('input[name="message"]')||i.querySelector(".chat__input"):null;let r=!1;const o=b=>{a&&(b?(a.textContent=b,a.style.display="inline"):(a.textContent="",a.style.display="none"))},d=()=>{e&&requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight})},c=b=>{if(e){if(e.innerHTML="",!b||!b.length){const m=document.createElement("div");m.className="chat__item",m.textContent=S.dataset.supportEmptyText||"There are no messages yet.",e.appendChild(m);return}b.forEach(m=>{const C=document.createElement("div");C.className="chat__item"+(m.direction==="outbound"?" chat__item--answer":"");const w=document.createElement("div");w.className="chat__item-content";const T=document.createElement("span");if(T.className="chat__item-text",T.innerHTML=oe(m.message??""),w.appendChild(T),m.created_at){const $=document.createElement("span");$.className="chat__item-time",$.textContent=m.created_at,w.appendChild($)}C.appendChild(w),e.appendChild(C)})}},u=async(b={})=>{if(!(!t||r)){r=!0;try{const m=await fetch(t,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(m.ok){const C=await m.json();c(C.messages||[]),b.silent||d()}}catch{b.silent||o("Не удалось получить сообщения.")}finally{r=!1}}},h=async()=>{if(!i||!s)return;const b=n?n.value.trim():"";if(!b){o("Введите сообщение.");return}const m=new FormData(i);m.has("message")||m.set("message",b),o("");try{const C=await fetch(s,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":ne},body:m});if(C.ok){const w=await C.json();c(w.messages||[]),n&&(n.value=""),o(""),d()}else if(C.status===422){const w=await C.json().catch(()=>null),T=w?.errors,$=w?.message||(T?Object.values(T)[0]?.[0]:null)||"Не удалось отправить сообщение.";o($)}else o("Не удалось отправить сообщение.")}catch{o("Не удалось отправить сообщение.")}};i&&i.addEventListener("submit",b=>{b.preventDefault(),h()});const f=()=>{S.style.display="flex",requestAnimationFrame(()=>{S.classList.add("show"),u({silent:!0}),d()})},_=()=>{S.classList.remove("show"),S.addEventListener("transitionend",()=>{S.style.display="none"},{once:!0})},A=()=>{S.classList.contains("show")?_():f()};l?.addEventListener("click",A),z.addEventListener("click",A),u({silent:!0}),S.dataset.supportOpen==="true"&&f(),setInterval(()=>{S.classList.contains("show")&&u({silent:!0})},5e3)}document.querySelectorAll(".mobile-nav-tabs button")?.forEach(l=>{l.addEventListener("click",()=>{document.querySelectorAll(".mobile-nav-tabs button").forEach(e=>e.classList.remove("active")),l.classList.add("active"),document.querySelector(".main").classList.remove("active"),document.querySelector(".aside").classList.remove("active"),document.querySelector("."+l.dataset.tab).classList.add("active")})});function ce(){const l=document.querySelectorAll("[data-file-upload]");if(!l.length)return;const e=s=>s===1?"1 файл выбран":s>=2&&s<=4?`${s} файла выбрано`:`${s} файлов выбрано`,t=s=>{if(!s&&s!==0)return"";const a=["Б","КБ","МБ","ГБ"];let i=s,n=0;for(;i>=1024&&n<a.length-1;)i/=1024,n+=1;return`${i>=10||n===0?Math.round(i):i.toFixed(1)} ${a[n]}`};l.forEach(s=>{const a=s.querySelector("[data-file-upload-input]");if(!a)return;const i=s.querySelector("[data-file-upload-label]"),n=s.querySelector("[data-file-upload-list]"),r=i?i.textContent.trim():"",o=[];let d=[];const c=typeof DataTransfer<"u",u=parseInt(a.getAttribute("data-max-files"),10),h=Number.isFinite(u)&&u>0?u:null,f=s.dataset.fileUploadDocList||"",_=s.dataset.fileUploadDocEmpty||"",A=f?document.querySelector(f):null,b=_?document.querySelector(_):null,m=()=>{o.splice(0).forEach(p=>URL.revokeObjectURL(p))},C=p=>{const v=[],y=new Set;return p.forEach(g=>{const E=`${g.name}|${g.size}|${g.lastModified}`;y.has(E)||(y.add(E),v.push(g))}),h!==null&&v.length>h?v.slice(0,h):v},w=()=>{if(!c){d.length||(a.value="");return}const p=new DataTransfer;d.forEach(v=>p.items.add(v)),a.files=p.files},T=()=>{A&&A.querySelectorAll("[data-document-preview]").forEach(p=>p.remove())},$=()=>{if(!b)return;const p=A?A.querySelectorAll("[data-document-entry]").length>0:!1,v=d.length>0;b.style.display=p||v?"none":""},W=p=>{p<0||(!c&&a.files&&a.files.length?(d=[],a.value=""):d=C(d.filter((v,y)=>y!==p)),w(),X())},re=(p,v)=>{const y=document.createElement("li");y.className="modal-content__file-item modal-content__file-item--preview";const g=document.createElement("div");g.className="modal-content__file-info";const E=document.createElement("div");if(E.className="modal-content__file-thumb",p.type&&p.type.startsWith("image/")){const k=URL.createObjectURL(p);o.push(k);const O=document.createElement("img");O.src=k,O.alt=p.name,O.loading="lazy",E.innerHTML="",E.appendChild(O)}else{const k=(p.name.split(".").pop()||"FILE").toUpperCase().slice(0,4),O=document.createElement("span");O.className="modal-content__file-icon",O.textContent=k,E.innerHTML="",E.appendChild(O)}const x=document.createElement("div");x.className="modal-content__file-meta";const M=document.createElement("span");M.className="modal-content__file-name",M.textContent=p.name;const q=document.createElement("span");q.className="modal-content__file-size",q.textContent=t(p.size);const D=document.createElement("span");D.className="modal-content__file-chip",D.textContent="Новый документ",x.appendChild(M),q.textContent&&x.appendChild(q),x.appendChild(D),g.appendChild(E),g.appendChild(x);const B=document.createElement("div");B.className="modal-content__file-actions";const L=document.createElement("button");return L.type="button",L.className="btn btn--light modal-content__file-remove-btn",L.textContent="Удалить",L.addEventListener("click",()=>W(v)),B.appendChild(L),y.appendChild(g),y.appendChild(B),y},de=(p,v)=>{const y=document.createElement("li");y.dataset.documentPreview="true",y.style.cssText="display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;";const g=document.createElement("div");g.style.cssText="display: flex; align-items: center; gap: 0.75rem;";const E=document.createElement("div");if(E.style.cssText="width: 64px; height: 64px; border-radius: 0.75rem; overflow: hidden; display: flex; align-items: center; justify-content: center; background: rgba(99,102,241,.08); color: #312e81; font-weight: 600; font-size: .75rem; text-transform: uppercase; border: 1px solid rgba(148, 163, 184, .35);",p.type&&p.type.startsWith("image/")){const k=URL.createObjectURL(p);o.push(k);const O=document.createElement("img");O.src=k,O.alt=p.name,O.style.cssText="width: 100%; height: 100%; object-fit: cover;",E.innerHTML="",E.appendChild(O)}else{const k=(p.name.split(".").pop()||"FILE").toUpperCase().slice(0,4);E.textContent=k}const x=document.createElement("div");x.style.cssText="display: flex; flex-direction: column; gap: 0.2rem;";const M=document.createElement("div");M.style.cssText="font-weight: 600; color: #0f172a;",M.textContent=p.name;const q=document.createElement("div");q.style.cssText="font-size: 0.8rem; color: #475569;",q.textContent=t(p.size);const D=document.createElement("span");D.style.cssText="display: inline-flex; align-items: center; justify-content: center; padding: 0.2rem 0.6rem; border-radius: 999px; background: #eef2ff; color: #312e81; font-size: 0.75rem; font-weight: 600; width: fit-content;",D.textContent="Новый документ",x.appendChild(M),q.textContent&&x.appendChild(q),x.appendChild(D),g.appendChild(E),g.appendChild(x);const B=document.createElement("div");B.style.cssText="display: flex; align-items: center; gap: 0.5rem;";const L=document.createElement("button");return L.type="button",L.className="btn btn--md",L.style.background="#F1F5F9",L.style.color="#111827",L.textContent="Удалить",L.addEventListener("click",()=>W(v)),B.appendChild(L),y.appendChild(g),y.appendChild(B),y},ue=()=>{if(!A){$();return}m(),T();const p=A.querySelector("[data-document-entry]");d.forEach((v,y)=>{const g=de(v,y);p?A.insertBefore(g,p):A.appendChild(g)}),$()},X=()=>{const p=d;i&&(A?i.textContent=r||"Прикрепить файлы":p.length?p.length===1?i.textContent=p[0].name:i.textContent=e(p.length):i.textContent=r||"Прикрепить файлы"),n&&(A?n.innerHTML="":(m(),n.innerHTML="",p.forEach((v,y)=>{n.appendChild(re(v,y))}))),ue()},G=()=>{d=[],w(),a.value="",m(),i&&(i.textContent=r||"Прикрепить файлы"),n&&(n.innerHTML=""),T(),$()};a.addEventListener("change",()=>{const p=Array.from(a.files||[]);p.length&&(c?(d=C(d.concat(p)),a.value="",w()):(d=C(p),a.value=""),X())});const K=s.closest("form");K&&K.addEventListener("reset",()=>{setTimeout(G,0)}),G()})}const V=()=>{const l=document.querySelector(".withdrawal");if(document.querySelectorAll("[data-transaction-scope]").forEach(i=>{const n=i.querySelectorAll("[data-transaction-tab]");if(!n.length)return;const r=i.querySelectorAll("[data-transaction-panel]"),o=d=>{n.forEach(c=>{const u=c.dataset.transactionTab===d;c.classList.toggle("transaction-tab--active",u),c.setAttribute("aria-pressed",u?"true":"false")}),r.forEach(c=>{const u=c.dataset.transactionPanel===d;c.classList.toggle("is-active",u),c.hidden=!u})};n.forEach(d=>{d.addEventListener("click",()=>o(d.dataset.transactionTab))}),o("transactions")}),l){const i=l.querySelector(".withdrawal__back"),n=l.querySelectorAll(".withdrawal__block"),r=l.querySelector("[data-withdraw-nav]"),o=l.querySelectorAll(".withdrawal__btn");i.style.display="none",n.forEach(c=>{c!==r&&(c.style.display="none")}),o.forEach(c=>{c.addEventListener("click",()=>{const u=c.dataset.target;n.forEach(h=>h.style.display="none"),l.querySelector(`[data-withdraw-${u}]`).style.display="flex",r.style.display="none",i.style.display="inline-flex",o.forEach(h=>h.classList.remove("active")),c.classList.add("active")})});const d=l.dataset.initialMethod;if(d){const c=Array.from(o).find(u=>u.dataset.target===d);c&&c.click()}i.addEventListener("click",()=>{n.forEach(c=>{c!==r&&(c.style.display="none")}),r.style.display="flex",i.style.display="none"})}const t=document.querySelector(".admin-panel");if(t){const i="admin-dashboard-scroll",n=new Set,r=c=>{c&&c.querySelectorAll("form").forEach(u=>{u.hasAttribute("data-ignore-scroll")||(u.getAttribute("method")||u.method||"get").toLowerCase()==="get"&&!u.hasAttribute("data-preserve-scroll")||n.add(u)})};r(t),document.querySelectorAll(".popup").forEach(c=>r(c)),document.querySelectorAll("form[data-preserve-scroll]").forEach(c=>n.add(c));const o=()=>{sessionStorage.setItem(i,String(window.scrollY||0))};n.forEach(c=>{c.addEventListener("submit",o,{capture:!0})});const d=()=>{const c=sessionStorage.getItem(i);if(c===null)return;sessionStorage.removeItem(i);const u=Number.parseFloat(c);Number.isNaN(u)||requestAnimationFrame(()=>{window.scrollTo(0,u)})};window.addEventListener("pageshow",()=>{d()}),d()}ce(),I();const s=document.querySelector('[data-action="delete-user-toggle"]'),a=document.querySelector('[data-role="delete-user-confirm"]');if(s&&a){const i=a.querySelector('[data-action="delete-user-cancel"]'),n=()=>{s.style.display="none",a.style.display="block"},r=()=>{a.style.display="none",s.style.display=""};s.addEventListener("click",n),i&&i.addEventListener("click",r)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",V):V()})();
